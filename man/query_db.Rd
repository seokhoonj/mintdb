% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run.R
\name{query_db}
\alias{query_db}
\title{Run a SELECT Query and Retrieve Results}
\usage{
query_db(sql, params = list(), as_dt = FALSE)
}
\arguments{
\item{sql}{Character SQL statement (typically a \code{SELECT}).}

\item{params}{Optional list of parameter values to bind to \verb{?} placeholders
in \code{sql}. Values are bound in order. If empty, binding is skipped.}

\item{as_dt}{Logical; when \code{TRUE} and \strong{data.table} is installed,
the result is returned as a data.table. Default \code{FALSE}.}
}
\value{
A data.frame (or data.table if \code{as_dt = TRUE}).
}
\description{
Safely executes a SQL \code{SELECT} query on the active connection (or pool),
supporting parameter binding and optional \strong{data.table} return.
}
\examples{
\dontrun{
set_db_conn_info(driver = "sqlite", filepath = "data/test.sqlite")
set_db_conn()

# No params
query_db("SELECT 1 AS x")

# With params (safe)
query_db("SELECT * FROM users WHERE id = ? AND status = ?", params = list(42, "active"))

# As data.table
query_db("SELECT * FROM users LIMIT 10", as_dt = TRUE)

set_db_disconn()
}
}
\seealso{
\code{\link[=exec_db]{exec_db()}}, \code{\link[=set_db_conn]{set_db_conn()}}, \code{\link[=get_db_conn]{get_db_conn()}}, \code{\link[=has_db_conn]{has_db_conn()}}
}
